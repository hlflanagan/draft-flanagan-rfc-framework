---
title: RFC Format Framework
abbrev: RFC Format Framework
docname: draft-flanagan-rfc-framework-00
date: 2014-08-15
category: info
ipr: trust200902
pi:
  toc: yes

author:
 -
    ins: H. Flanagan
    name: Heather Flanagan
    organization: RFC Editor
    email: rse@rfc-editor.org

normative:
  RFC6949:
  draft-reschke-xml2rfc:
    title: "The 'XML2RFC' version 2 Vocabulary"
    author:
        ins: J. Reschke
        name: Julian Reschke
    date: July 2014
    seriesinfo: draft-reschke-xml2rfc-10
      
  draft-hoffman-xml2rfc:
    title: "The 'XML2RFC' version 3 Vocabulary"
    author:
        ins: P. Hoffman
        name: Paul Hoffman
    date: July 2014
    seriesinfo: draft-hoffman-xml2rfc-09
  draft-brownlee-svg-rfc:
    title: "SVG Drawings for RFCs: SVG 1.2 RFC"
    author:
        ins: N. Brownlee
        name: Nevil Brownlee
    date: July 2014
    seriesinfo: draft-brownlee-svg-rfc-07
  draft-hildebrand-html-rfc:
    title: "HyperText Markup Language Request For Comments Format"
    author:
      -
        ins: J. Hildebrand
        name: Joe Hildebrand
      -
        ins: H. Flanagan, ed.
        name: Heather Flanagan
    date: June 2014
    seriesinfo: draft-hildebrand-html-rfc-03
  draft-hansen-rfc-use-of-pdf:
    title: "PDF for an RFC Series Output Document Format"
    author:
      -
        ins: T. Hansen
        name: Tony Hansen
      -
        ins: L. Masinter
        name: Larry Masinter
      -
        ins: M. Hardy
        name: Matthew Hardy
    date: July 2014
    seriesinfo: draft-hansen-rfc-use-of-pdf-02
  draft-flanagan-plaintext:
    title: "Requirements for Plain Text RFCs"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    date: July 2014
    seriesinfo: draft-flanagan-plaintext-01
  draft-flanagan-nonascii:
    title: "The Use of Non-ASCII Characters in RFCs"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    date: July 2014
    seriesinfo: draft-flanagan-nonascii-03
  

informative:
  RFC4845:
  RFC6635:
  draft-iab-styleguide: 
    title: "The RFC Style Guide"
    author:
      -
        ins: H. Flanagan
        name: Heather Flanagan
      -
        ins: S. Ginoza
        name: Sandy Ginoza
    date: April 2014
    seriesinfo: draft-iab-styleguide-02
  GEN-ART:
    title: "General Area Review Team (Gen-ART)"
    author:
      org: IETF
    target: http://www.ietf.org/iesg/directorate/gen-art.html
  IETF84:
    title: "IETF 84 Proceedings: RFC Format (rfcform)"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    target: http://www.ietf.org/proceedings/84/rfcform.html
  IETF85:
    title: "IETF 85 Proceedings: RFC Format (rfcform)"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    target: http://www.ietf.org/proceedings/85/rfcform.html
  IETF88:
    title: "IETF 88 Proceedings: RFC Format (rfcform)"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    target: http://www.ietf.org/proceedings/88/rfcform.html
  IETF89:
    title: "IETF 89 Proceedings: RFC Format (rfcform)"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    target: http://www.ietf.org/proceedings/89/rfcform.html
  IETF90:
    title: "IETF 90 Proceedings: RFC Format (rfcform)"
    author:
        ins: H. Flanagan
        name: Heather Flanagan
    target: http://www.ietf.org/proceedings/90/rfcform.html
  ISTATS:
    title: "Internet Live Stats"
    target: http://www.internetlivestats.com/internet-users/
  RFC-INTEREST:
    title: "rfc-interest -- A list for discussion of the RFC series and RFC Editor functions."
    author:
      org: RFC Editor
    target: https://www.rfc-editor.org/mailman/listinfo/rfc-interest
  RSOC:
    title: "RFC Editor Program: The RSOC"
    author:
      org: IAB
    target: http://www.iab.org/activities/programs/rfc-editor-program/
  TNC2014:
    title: "IETF Update - 'What's Hot?' - RFC Update"
    author:
      ins: H. Flanagan
      name: Heather Flanagan
    target: https://tnc2014.terena.org/core/presentation/84
  XML-ANNOUNCE:
    title: "Subject: [rfc-i] Direction of the RFC Format Development effort"
    target: http://www.rfc-editor.org/pipermail/rfc-interest/2013-May/005584.html

--- abstract
The canonical format for the RFC Series has been ASCII for several decades.  After extensive community discussion and debate, the RFC Editor will be transitioning to XML as the canonical format, with different publication formats rendered from that base document.  These changes are intended to increase the usability of the RFC Series by offering documents that match the needs of a wide variety of stakeholders.  With these changes, however, comes a significant increase in complexity.  This document serves as the framework that describes the problems being solved and summarizes the many documents created that capture the specific requirements for each aspect of the change in format.

Discussion of this draft takes place on the rfc-interest mailing list (rfc-interest@rfc-editor.org), which has its home page at https://www.rfc-editor.org/mailman/listinfo/rfc-interest.

--- middle

# Introduction

In RFC 6949, "RFC Series Format Requirements and Future Development," the need for additional features within RFCs such as non-ASCII characters to respect author names, more advanced artwork than ASCII art, and documents that could display properly on a wide variety of devices was discussed {{RFC6949}}.  Based on the discussions with the IETF community as well as other communities of interest, the decision was made by the RFC Series Editor to explore a change to the format of the Series {{XML-ANNOUNCE}}.  This document serves as the framework that describes the problems being solved and summarizes the documents created to-date that capture the specific requirements for each aspect of the change in format.  

Key changes that have, based on feedback on the rfc-interest mailing list as well as meetings with the community, been of the greatest interest are highlighted, and a description of the transition plan that will take the Series from ASCII only to the new formats are also described {{RFC-INTEREST}}.

This document is concerned with the production of RFCs, focusing on the published formats. It does not address any changes to the processes each stream uses to develop and review their submissions (specifically, how Internet-Drafts will be developed).  While I-Ds have a similar set of issues and concerns, directly addressing those issues for I-Ds will be discussed within each document stream.

# Problem Statement

When the first RFCs were published 45 years ago, the tools to create and read RFCs were limited.  The need for any characters outside the ASCII range did not start until several years, and over a thousand documents, into the Series [need to verify; first one I can find was RFC 1456].  Distribution was limited to individuals who had access to the burgeoning Internet.

Today, there are nearly three billion people connected to the Internet, and individuals from 45 countries or more regularly attending IETF meetings over the last 5 years {{ISTATS}} [IETF numbers are unpublished figures from the Secretariat; one could dig them out from the plenary proceedings--how to reference?].  The Internet is global, and while the world has changed from when the first RFCs were published, the Series remains critical to defining protocols, standards, best practices, and more for this global network that continues to grow.  In order to make RFCs easily viewable to the largest number of people possible, regardless of device, and to respect the diversity of authors and reference materials, it is time to change from the tightly prescribed format of the RFC Series.

All changes to the format of the RFC Series must consider the requirements of a wide set of communities, over a wide expanse of time.  Existing authors and implementors, lawyers that argue Intellectual Property Rights (IPR), and policy-makers that need to know what to list in potential RFPs for their organizations, all have preferences and requirements for their specific need.  The immediate needs of today's communities must balance with the needs for long-term archival storage.  


# Terminology
RFC 2119 keywords are not used in this document.

Terminology as described in RFC 6949:

> ASCII: Coded Character Set -- 7-bit American Standard Code for Information Interchange, ANSI X3.4-1986

> Canonical format: the authorized, recognized, accepted, and archived version of the document

> Metadata: information associated with a document so as to provide, for example, definitions of its structure, or of elements within the document such as its topic or author

> Publication format: display and distribution format as it may be read or printed after the publication process has completed

> Reflowable text: text that automatically wraps to the next line in a document as the user moves the margins of the text, either by resizing the window or changing the font size

> Revisable format: the format that will provide the information for conversion into a Publication format; it is used or created by the RFC Editor (see Section 2.3 for an explanation of current practice)

> Submission format: the format submitted to the RFC Editor for editorial revision and publication

# Overview of the Decision Making Process

Requirements, use cases, concerns, and suggestions were collected from the communities of interest at every stage of the RFC format change project.  Input was received through the rfc-interest mailing list, as well as face-to-face sessions at IETF meetings.  Updates regarding the status of the project were offered to the IETF community during the IETF Technical Plenary as well as Format BoFs or IAB sessions at IETF 84, IETF 85, IETF 88, IETF 89, and IETF 90 {{IETF84}} {{IETF85}} {{IETF88}} {{IETF89}} {{IETF90}}. 

The first document published, RFC 6949, provided the first solid documentation on what the requirements were for the Series and in effect was the output from the first year of discussion on the topic of RFC format.  That RFC was published as an IAB stream document, thus following the process described in RFC 4845, "Process for Publication of IAB RFCs" {{RFC4845}}.  

After the high-level requirements were published, a Design Team was brought together to start working out the necessary details to inform the development of code to support new and changed formats.  While the bi-weekly calls for this team were limited to Design Team members only, review of the drafts produced by this team were done publicly, both through requests for feedback on the rfc-interest mailing list.  Several of the drafts produced by the RFC Format Design Team, including the XML v2 and v3 drafts and the SVG profile drafts, were sent through an early GenART review before starting the process to be accepted as an IAB stream draft {{GEN-ART}}. [If/when we get the Security Directorate review, add that here.]

While the IETF community provided the majority of input on the process, additional outreach opportunities were sought to gain input from an even broader audience.  Informal discussions were held with participants at several International Association of Scientific, Technical, and Medical Publisher events, and presentations made at technical conferences such as the TERENA Networking Conference 2014 and NORDUnet 2014 {{TNC2014}} [NORDUnet link TBD].

In order to respond to concerns regarding responses to subpoenas and to understand the requirements for lawyers, advice was requested from the IETF Trust legal team regarding what format or formats would be considered reasonable when responding to a subpoena request for an RFC.

Given that several other SDOs either do not offer plain text documents, informal input was sought from them regarding their experience with supporting one or more non-plain-text formats for their standards.

Finally, the entire process was reviewed regularly with the RFC Series Oversight Committee and regular updates provided to the IAB and IESG {{RSOC}}.

Where consensus was not reached during the process, the RSE made any necessary final decisions, as per the guidance in RFC 6635, "RFC Editor Model (Version 2)" {{RFC6635}}.


# Key Changes

At the highest level, the changes being made to the RFC Format involve breaking away from a pure-ASCII mode and moving to canonical format that includes all the information required for rendering a document into a wide variety of publication formats.  The RFC Editor will become responsible for more than just the canonical plain text file and the PDF-from-text format created at time of publication; they will be creating different formats in order to meet the diverse requirements of the community.

The final XML file produced by the RFC Editor will be considered the canonical format for RFCs.  PDF/A-3 will the the publication format offered in response to subpoenas for RFCs published through this new process, and will be developed with an eye towards long-term archival storage.  HTML will be the focus of providing the most flexible set of features for an RFC, including JavaScript to provide pointers to errata and other metadata.  Plain-text will continue to be offered in order to support existing tool chains where practicable.

A short summary of changes for each document format is listed below.  For more detail, please see the sections later in this document and review the drafts.

Plain text:

  * no longer the canonical version

  * non-ASCII characters will be allowed in .txt files

  * BOMs will be added at the start of each file

  * widow and orphan control will not have priority

  * authors may choose to have pointers to line art in other publication formats in place of ASCII art in the .txt file

  * both a paginated and unpaginated plain-text file will be created

PDF:

  * no longer derived from the plain text document

  * will include a rich set of tags and metadata within the document

  * will conform to PDF/A-3

  * line art, if available, will be included

  * will contain the source XML

HTML:

  * no longer derived from the plain text document

  * semantic HTML + override-able CSS 

  * line art, if available, will be included

  * text will be reflowable
 
  * JavaScript will be supported as a publication option to provide up-to-date links to errata and obsoleted or obsoleting RFCs

XML:

  * this is the canonical version that contains all information necessary to render a variety of formats; any question about what was intended in the publication will be answered from this format

  * the canonical XML vocabulary will be the v3 vocabulary; authors may submit drafts in v2 vocabulary, but the final publication will convert that to v3

# Document Summary

## Canonical Format Documents

### XML
  {{draft-reschke-xml2rfc}} - Describes the xml2rfc v2 vocabulary.  While in wide use today, this vocabulary had not been formally documented.  In order to understand what needed to change in the vocabulary to allow for a more simple experience and additional features for authors, the current vocabulary needed to be fully described.  This document will be almost immediately obsoleted by draft-hoffman-xml2rfc.

  {{draft-hoffman-xml2rfc}} - Describes the xml2rfc v3 vocabulary.  The design goals in this vocabulary were to make the vocabulary more intuitive for authors, and to expand the features to support the changes being made in the publication process.  This draft will obsolete draft-reschke-xml2rfc as soon as this draft is published.


## Publication Format Documents

### HTML
  {{draft-hildebrand-html-rfc}} - Describes the semantic HTML that will be produced by the RFC Editor from the xml2rfc v3 files.


### PDF
  {{draft-hansen-rfc-use-of-pdf}} - Describes the tags and profiles that will be used to create the new PDF format, including both the internal structure and the visible layout of the file.  A review of the different versions of PDF is offered, with a recommendation of what PDF standard should apply to RFCs.


### Plain Text
  {{draft-flanagan-plaintext}} - Describes the details of the plain text format, focusing in particular on what is changing from the existing plain text output.


### SVG
  {{draft-brownlee-svg-rfc}} - describes the profile for SVG line art.  SVG is an XML-based vocabulary for creating line drawings; SVG information will be embedded within the canonical XML at time of publication.

### Potential Future Publication Formats

#### EPUB

## Content and Page Layout

### Non-ASCII Characters
  {{draft-flanagan-nonascii}} - There are security and readability implications to moving outside the ASCII range of characters.  This draft focuses on exactly where and how non-ASCII characters may be used in an RFC, with an eye towards keeping the documents as secure and readable as possible given the information that needs to be expressed.

### Document Formatting 
(addendum to the Style Guide; hasn't been drafted yet)

### Digital Preservation Policy

[HF: This is about the long-term, formal archival process for RFCs.  Not sure if a pointer to this should be included in the framework draft.  It is something that must be documented as we make the RFC Series more complex, but it isn't really part of the format work directly.]

### Style Guide
  {{draft-iab-styleguide}} - The RFC Style Guide was revised to remove as much page formatting information as possible, focusing instead on grammar, structure, and content of RFCs.  Some of the changes recommended, however, informed the XML v3 vocabulary.

### CSS Requirements

# Transition Plan

## Testing Phase

During document review and approved for submission phase, authors and stream-approving body will select drafts to run through the new process, noting that final publication will continue to be in plain text only.  In order to limit the amount of time the RFC Production Center (RPC) spends on testing and QA, note that their priority is to edit and publish documents, community assistance will be necessary to help move this stage along.

Purpose of testing phase: work with the community to identify and fix bugs in the process and the code, before producing canonical, immutable XML.  Also need to have more critical eyes on the publication formats.

Known risks: 

Criteria to indicate success: RPC and Tools Development team to review bugs and decide when all show-stoppers have been dealt with.

## Transition Phase

Documents submitted with an XML file will go through the new process to produce a canonical XML document and the available publication formats.  Documents submitted as plain text will be published as plain text only; they will not be converted to XML by the RPC.

Purpose of transition phase: this is a time to introduce the process to the community at large.  Additional bugs will be found and fixed, and workflow refined.

Known risks: More work on the part of the RPC to support both old and new publication processes for some unknown period of time.  There is potential for confusion as consumers of RFCs find some documents published at this time with a full set of outputs, while other documents only have plain text.  There may be a delay in publication as new bugs are found that must be fixed before the files can be converted into the canonical format and associated publication formats.

Criteria to indicate success: All major and critical bugs are resolved.  Rough consensus from the community regarding the utility of the new formats.

## Completion 
All drafts submitted for publication, including text, will be converted to XML and published as a Canonical XML file with available publication formats.

Known risks: Higher work load for the RPC as, in addition to the grammar and style editing, they also create and/or encourage best practice with the XML structure.

Criteria to indicate success: Costs and resources stabilize for the new process.

# IANA Considerations

This document has no actions for IANA.

# Security Considerations

Changing the format for RFCs involves modifying a great number of components to publication.  Understanding those changes and the implications for the entire tool chain is critical so as to avoid unintended bugs that would allow unintended changes to text.  Unintended changes to text could in turn corrupt a standard, practice or critical piece of information about a protocol.

# Acknowledgements
With many thanks to the RFC Format Design Team for their efforts in making this transition successful: Nevil Brownlee (ISE), Tony Hansen, Joe Hildebrand, Paul Hoffman, Ted Lemon, Julian Reschke, Adam Roach, Alice Russo, Robert Sparks (Tools Team liaison), and Dave Thaler 
